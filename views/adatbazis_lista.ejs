<div class="crud-container">
    <h1 class="page-title">Teljes Repertoár Adatbázis</h1>
    <p style="text-align:center; color:#aaa; margin-bottom:30px;">
        (Összekapcsolt adatok: Énekesek + Szerepek + Művek)
    </p>

    <div class="grid-container" style="justify-content: center;">
        <% enekesek.forEach(enekes => { %>
            <% if (enekes.szerepek.length > 0) { %>
                <div class="card" style="width: 100%; max-width: 800px; margin-bottom: 20px; padding: 0; cursor: default;">
                    <div style="background: rgba(212, 175, 55, 0.1); padding: 15px 20px; border-bottom: 1px solid #d4af37; display: flex; justify-content: space-between; align-items: center;">
                        <h3 style="margin:0; color: #d4af37;"><%= enekes.nev %></h3>
                        <span style="color: #888; font-size: 0.9rem;">Született: <%= enekes.szulev %></span>
                    </div>
                    <div style="padding: 20px;">
                        <table style="width: 100%; margin: 0;">
                            <thead>
                                <tr>
                                    <th style="padding: 5px; color: #fff; border-bottom: 1px solid #444; font-size: 0.8rem;">Szerző & Mű</th>
                                    <th style="padding: 5px; color: #fff; border-bottom: 1px solid #444; font-size: 0.8rem;">Szerep</th>
                                    <th style="padding: 5px; color: #fff; border-bottom: 1px solid #444; font-size: 0.8rem; text-align: right;">Utoljára</th>
                                </tr>
                            </thead>
                            <tbody>
                                <% enekes.szerepek.forEach(sz => { %>
                                    <tr>
                                        <td style="padding: 8px 5px; border-bottom: 1px solid rgba(255,255,255,0.05); color: #ccc;">
                                            <strong style="color: #d4af37;"><%= sz.szerzo %></strong>: <%= sz.muCim %>
                                        </td>
                                        <td style="padding: 8px 5px; border-bottom: 1px solid rgba(255,255,255,0.05);"><%= sz.szerepnev %></td>
                                        <td style="padding: 8px 5px; border-bottom: 1px solid rgba(255,255,255,0.05); text-align: right; color: #888;"><%= sz.utoljara %></td>
                                    </tr>
                                <% }) %>
                            </tbody>
                        </table>
                    </div>
                </div>
            <% } %>
        <% }) %>
    </div>
    <div style="text-align: center; margin-top: 30px;">
        <a href="/" class="btn-cancel">Vissza a főoldalra</a>
    </div>
</div>